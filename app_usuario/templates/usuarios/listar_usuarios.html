{% extends 'base.html' %}
{% load static %}
{% block titulo %}Usuarios Registrados{% endblock %}

{% block contenido %}
<div class="page-header">
    <h2>Usuarios Registrados</h2>
    <a href="{% url 'app_usuario:crear_usuario' %}" class="btn btn-primary">+ Agregar Usuario</a>
</div>

{% if usuarios %}
<ul class="artist-grid">
    {% for usuario in usuarios %}
    <li class="artist-card">
        {% if usuario.avatar %}
            <a href="{% url 'app_usuario:detalle_usuario' usuario.id_usuario %}">
                <img src="{{ usuario.avatar.url }}" alt="Avatar de {{ usuario.nombre_usuario }}" class="artist-img">
            </a>
        {% else %}
            <a href="{% url 'app_usuario:detalle_usuario' usuario.id_usuario %}">
                <div class="artist-placeholder">ðŸ‘¤</div>
            </a>
        {% endif %}

        <div class="artist-card-body" style="padding:1rem;">
            <a href="{% url 'app_usuario:detalle_usuario' usuario.id_usuario %}" style="text-decoration:none;color:inherit;">
                <h3>{{ usuario.nombre_usuario }}</h3>
            </a>
            <p class="artist-nationality">{{ usuario.email }}</p>
            <p class="artist-nationality">Registro: {{ usuario.fecha_registro }} â€¢ Ãšltima: {{ usuario.ultima_conexion|date:"d/m/Y H:i" }}</p>
            <div style="display:flex;gap:0.5rem;margin-top:0.75rem;">
                <a href="{% url 'app_usuario:detalle_usuario' usuario.id_usuario %}" class="btn btn-primary">Ver</a>
                <a href="{% url 'app_usuario:editar_usuario' usuario.id_usuario %}" class="btn btn-secondary">Editar</a>
                <a href="{% url 'app_usuario:borrar_usuario' usuario.id_usuario %}" class="btn btn-danger">Borrar</a>
            </div>
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
    <div class="table-responsive">
        <p class="text-center">No hay usuarios registrados.</p>
    </div>
{% endif %}
{% endblock %}
